## Data Sources, Quality, and Integrity

The following table describes a subset of data sources supplied by the State Water Resources Control Board Division of Drinking Water. This table is intended to highlight the different types of quality and integrity issues with these data. This document is intended to:

1. List all the data sources that went into the machine learning model,
2. Describe any data have quality and integrity issues with each source, and
3. Provide solutions to address these issues.

| Data Provenance                                                                                                                                                                                                                                                                                                                                                                              | Description                                                                                                                                                                                   | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Data Quality and Integrity Issues                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [California Department of Water Resources - Periodic Groundwater Level Measurements](https://data.cnra.ca.gov/dataset/periodic-groundwater-level-measurements/resource/bfa9f262-24a1-45bd-8dc8-138bc8107266)                                                                                                                                                                                 | These data contain periodic measurements of groundwater levels.                                                                                                                               | Nearly half of the data are missing. If we select community water systems (CWS) with measurements during both the wet and dry seasons of 2021, we have data for 1614 out of 2866 CWS (56% coverage). The number of positive examples decreased from 156 to 83. In addition, these data are taken at an irregular cadence (some water systems have frequent measurements, and others limited measurements). These data do not come with any error measurements, but they're taken manually using instrumentation that may not be cross-calibrated.Some of the community water systems that collect these data do not have the personnel or equipment necessary to take these measurements. The instruments to take these data vary from water system to water system. | **Understand implications of missing data.** If we make decisions about communities that do not supply these data, we neglect these communities. <br> <br> **Quantify errors.** Quantifying the systematic and random errors in the measurements.  <br> <br> **Educate the community water systems on why it is important to take regular measurements.** These data are used to make decisions about their well-being.  <br> <br>  **Develop standard instruments to take data, ensuring there is enough data to quantify errors.** Data taken with multiple different instruments, or using multiple different methods, will have different error profiles. This will be challenging to reconcile across water systems. Using a standard instrument and method across all water systems will help mitigate this problem. |
| [US Drought Monitor Data](https://droughtmonitor.unl.edu/DmData/DataDownload/WebServiceInfo.aspx#comp)                                                                                                                                                                                                                                                                                       | These data contain a weighted blend of multiple observational data sources into an index called the Drought Severity and Coverage Index (DSCI). These data are available on a weekly cadence. | This is a nice dataset of publicly available, calibrated data. These data represent an aggregate score with pre-determined weights.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | **Understand the details behind a calculation**. It is important to make sure we understand how this score is calculated, and what pieces of information into calculating this score, before using it in the prediction task.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [The Nature Conservancy and USGS - California Natural Flows Database](https://rivers.codefornature.org/#/home) ([paper](https://doi.org/10.1111/fwb.13058))([documentation](https://tnc.app.box.com/s/s5wj2m78zx5091tfz6l51i2z89m5u9ah))                                                                                                                                                     | These data contain predicted natural stream flows for every stream in California. These data are available on a monthly cadence.                                                              | These are predicted values of stream flows, rather than experimental values of stream flows. These predictions come from a machine learning model. We learned that the model overestimates stream flow levels in the dry season.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | **Understand the limitations of predicted values versus observed values**. Predictions have some deviation from reality, and we should understand what those look like.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Decomposed CDAG Score ([data](https://data.cnra.ca.gov/dataset/i07-water-shortage-vulnerability-small-water-systems)) ([documentation](https://data.cnra.ca.gov/dataset/water-shortage-vulnerability-technical-methods/resource/51414e20-df33-4013-90b4-a0d003d4e6b8))                                                                                                                       | These data show how to compute the CDAG score.                                                                                                                                                | The calculation of the CDAG score changed between 2021 and 2022. Changing the definition of the CDAG score, especially if it is more predictive, is not a problem. However, users should be able to go back and re-create historical scores using the updated formula.The underlying data are not easy to find or unavailable; in addition, they are not linked to the original source.The formula for the score is not easy to find.                                                                                                                                                                                                                                                                                                                                | **Ensure that the data are consistent.** Use one consistent definition of the CDAG score throughout the dataset. <br> <br> **Clearly describe the formulae for any calculations.** The formula for the CDAG score should be easy to find and easy to reproduce. Developing standalone code to calculate the most up-to-date version of the CDAG score will make the model more transparent and reproducible. <br> <br> **Link to original sources.** Clearly include links to the original sources. Query data from the original source whenever possible. <br> <br> **Make the historical data available.** The historical data should be easily available, ideally from the same database as the current data, and queried using the same API.                                                                      |
| Seller / Purchaser Intertie data                                                                                                                                                                                                                                                                                                                                                             | These data contain information about whether a CWS purchased or sold water.                                                                                                                   | These data are internal. This means that they have some kind of database or method for storing data that they query. They export results to an Excel file, and email us the Excel file. We then convert the Excel file into a .csv file. This whole process has a lot of potential for error because (1) we do not know about the data quality of DDW internally, and (2) everything happens manually.If we restrict these data to include only CWS, we have data for 671 out of 2866 CWS (23% coverage). To use these data, we assume the remaining CWS did not purchase or buy data.We do not have information for the missing data.                                                                                                                               | **Ensure that data collection, storage, and retrieval follow best practices.** Use naming convention, consistency in format and typ, and version control. Describe each variable using a data dictionary, e.g. the [HuggingFace Data Cards](https://huggingface.co/docs/hub/datasets-cards). <br> <br> **Use automation and testing.** Manual data collection methods will introduce error. Use a standardized webform for reporting, that then automatically runs error checking and aggregates data into a database.                                                                                                                                                                                                                                                                                                                                  |
| SAFER Dashboard for Failing and At-Risk Drinking Water Systems([2023 report](https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/documents/needs/2023needsassessment.pdf))   ([dashboard](https://www.waterboards.ca.gov/drinking_water/certlic/drinkingwater/saferdashboard.html))   ([data](https://data.ca.gov/dataset/safer-failing-and-at-risk-drinking-water-systems)) |                                                                                                                                                                                               | The calculation of the SAFER Accessibility score changed between 2021 and 2022, and again between 2022 and 2023. The formula is not available in the report, and not easy to find in the Excel files. Users should be able to go back and re-create historical scores using the updated formula.The SAFER data are updated daily, but historical data are not publicly available.                                                                                                                                                                                                                                                                                                                                                                                    | **Ensure that the data are consistent.** Use one consistent definition of the SAFER Accesibility score throughout the dataset. <br> <br> **Clearly describe the formulae for any calculations.** The formula for the SAFER Accessibility score should be easy to find and easy to reproduce. Developing standalone code to calculate the most up-to-date version of the SAFER Accessibility score will make the model more transparent and reproducible. <br> <br> **Make the historical data available.** The historical data should be easily available, ideally from the same database as the current data, and queried using the same API.                                                                                                                                                                |

  
  
